(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1035:(e,t,a)=>{"use strict";a.d(t,{Eg:()=>o,jI:()=>r,GI:()=>i,LP:()=>c,U$:()=>l,Rg:()=>s,xJ:()=>n});let n=[{value:"America/New_York",label:"Eastern Time (EST/EDT)",region:"us"},{value:"America/Chicago",label:"Central Time (CST/CDT)",region:"us"},{value:"America/Denver",label:"Mountain Time (MST/MDT)",region:"us"},{value:"America/Los_Angeles",label:"Pacific Time (PST/PDT)",region:"us"},{value:"America/Anchorage",label:"Alaska Time (AKST/AKDT)",region:"us"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)",region:"us"},{value:"Europe/London",label:"London (GMT/BST)",region:"europe"},{value:"Europe/Paris",label:"Paris (CET/CEST)",region:"europe"},{value:"Europe/Berlin",label:"Berlin (CET/CEST)",region:"europe"},{value:"Europe/Rome",label:"Rome (CET/CEST)",region:"europe"},{value:"Europe/Madrid",label:"Madrid (CET/CEST)",region:"europe"},{value:"Asia/Tokyo",label:"Tokyo (JST)",region:"asia"},{value:"Asia/Shanghai",label:"Shanghai (CST)",region:"asia"},{value:"Asia/Seoul",label:"Seoul (KST)",region:"asia"},{value:"Asia/Hong_Kong",label:"Hong Kong (HKT)",region:"asia"},{value:"Asia/Singapore",label:"Singapore (SGT)",region:"asia"},{value:"Asia/Mumbai",label:"Mumbai (IST)",region:"asia"},{value:"Asia/Dubai",label:"Dubai (GST)",region:"asia"},{value:"Australia/Sydney",label:"Sydney (AEDT/AEST)",region:"oceania"},{value:"Australia/Melbourne",label:"Melbourne (AEDT/AEST)",region:"oceania"},{value:"Pacific/Auckland",label:"Auckland (NZDT/NZST)",region:"oceania"},{value:"America/Toronto",label:"Toronto (EST/EDT)",region:"americas"},{value:"America/Vancouver",label:"Vancouver (PST/PDT)",region:"americas"},{value:"America/Sao_Paulo",label:"S\xe3o Paulo (BRT)",region:"americas"},{value:"America/Mexico_City",label:"Mexico City (CST/CDT)",region:"americas"}],s=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"Europe/London",label:"GMT (London)"},{value:"Europe/Paris",label:"CET (Paris)"},{value:"Asia/Tokyo",label:"JST (Tokyo)"},{value:"Asia/Shanghai",label:"CST (Shanghai)"},{value:"Australia/Sydney",label:"AEST (Sydney)"}],i="America/New_York",l=[{value:15,label:"15 minutes",category:"quick"},{value:20,label:"20 minutes",category:"quick"},{value:25,label:"25 minutes",category:"quick"},{value:30,label:"30 minutes",category:"standard"},{value:45,label:"45 minutes",category:"standard"},{value:60,label:"1 hour",category:"standard"},{value:90,label:"1.5 hours",category:"extended"},{value:120,label:"2 hours",category:"extended"}],r=30,o={APP_NAME:"Coffee Scheduler",APP_TAGLINE:"Spend time connecting, not scheduling",COMPANY_NAME:"Coffee Scheduler Inc.",DEFAULT_EVENT_TITLE:"Coffee Chat",DEFAULT_CONTACT_NAME:"Unknown Contact",DASHBOARD_SUBTITLE:"Dashboard",MENU_TITLE:"Menu",CTA_PRIMARY:"Start Connecting",CTA_NEW_EVENT:"✨ New Event",CTA_VIEW_DETAILS:"\uD83D\uDCCB View Details",CTA_SCHEDULE_AGAIN:"\uD83D\uDD04 Schedule Again",CTA_EDIT_MEETING:"✏️ Edit Meeting",CTA_CANCEL_MEETING:"❌ Cancel Meeting",SUCCESS_SAVE:"Settings saved successfully!",ERROR_VALIDATION:"Please add at least one contact to continue with scheduling.",LOADING_TEXT:"Loading...",NO_EVENTS_UPCOMING:"Your scheduled meetings will appear here",NO_EVENTS_PAST:"Your completed scheduling sessions will appear here"},c={TIMEZONE:"America/New_York",DURATION:30,WORKING_HOURS:{START:"09:00",END:"17:00"},REMINDER_TIME:15,SYNC_FREQUENCY:"hourly",DATA_RETENTION:365}},1681:(e,t,a)=>{"use strict";a.d(t,{ModalProvider:()=>r,h:()=>l});var n=a(5155),s=a(2115);let i=(0,s.createContext)(void 0),l=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useModal must be used within a ModalProvider");return e},r=e=>{let{children:t}=e,[a,l]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1);return(0,n.jsx)(i.Provider,{value:{isLoginModalOpen:a,openLoginModal:()=>{l(!0)},closeLoginModal:()=>{l(!1)},isNewEventModalOpen:r,openNewEventModal:()=>{o(!0)},closeNewEventModal:()=>{o(!1)}},children:t})}},2941:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var n=a(5155),s=a(285),i=a(5695),l=a(2115),r=a(8670),o=a(1035);let c=o.U$.map(e=>({value:e.value.toString(),label:e.label})),d=[{id:"1",label:"Work Hours",description:"",type:"time-range",icon:"⏰",startTime:o.LP.WORKING_HOURS.START,endTime:o.LP.WORKING_HOURS.END},{id:"2",label:"Time Zone",description:"",type:"select",value:o.GI,icon:"\uD83C\uDF0D",options:o.xJ},{id:"3",label:"Default Duration",description:"",type:"select",value:o.LP.DURATION.toString(),icon:"⏱️",options:c}],u=e=>{let{onNewEvent:t}=e,a=(0,i.useRouter)(),[c,u]=(0,l.useState)(!1),[h,m]=(0,l.useState)(!1),[p,v]=(0,l.useState)(d),[g,x]=(0,l.useState)([]),[f,T]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{T(!0);try{let e=await r.L.getRecentEvents(6);x(e)}catch(e){console.error("Failed to load recent events:",e),x([])}finally{T(!1)}})()},[]);let b=(e,t)=>{v(a=>a.map(a=>{if(a.id===e){var n;let e=null==(n=a.options)?void 0:n.find(e=>e.value===t);return{...a,value:t,description:(null==e?void 0:e.label)||t}}return a}))},y=(e,t,a)=>{v(n=>n.map(n=>{if(n.id===e){let e={...n};return"start"===t?e.startTime=a:e.endTime=a,e}return n}))};return(0,n.jsxs)("div",{className:"bg-white border border-secondary-200 rounded-lg p-4 h-auto lg:h-[calc(100vh-8rem)] flex flex-col",children:[(0,n.jsx)("h3",{className:"text-lg font-display font-semibold text-neutral-900 mb-4",children:o.Eg.MENU_TITLE}),(0,n.jsx)("div",{className:"flex-shrink-0 mb-3",children:(0,n.jsx)(s.$,{onClick:t,className:"w-full justify-start",size:"sm",children:o.Eg.CTA_NEW_EVENT})}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3",children:[(0,n.jsxs)("div",{className:"flex-shrink-0",children:[(0,n.jsxs)("button",{onClick:()=>{u(!c)},className:"w-full flex items-center justify-between px-3 py-2 text-sm font-body text-neutral-700 hover:bg-neutral-50 rounded-md transition-colors cursor-pointer",children:[(0,n.jsx)("span",{className:"flex items-center",children:"\uD83D\uDCC5 Past Events"}),(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform duration-200 ".concat(c?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,n.jsxs)("div",{className:"mt-2 space-y-2",children:[f?(0,n.jsx)("div",{className:"animate-pulse space-y-2",children:[1,2,3].map(e=>(0,n.jsx)("div",{className:"h-16 bg-neutral-200 rounded"},e))}):g.length>0?g.map(e=>(0,n.jsx)("div",{className:"bg-neutral-50 rounded-md p-3 border border-neutral-200 hover:bg-neutral-100 transition-colors cursor-pointer",children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900 truncate",children:e.participantName}),(0,n.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:[e.date," at ",e.time]})]}),(0,n.jsx)("div",{className:"ml-2 flex-shrink-0",children:e.completed?(0,n.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-green-100 rounded-full",children:(0,n.jsx)("svg",{className:"w-3 h-3 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):(0,n.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-yellow-100 rounded-full",children:(0,n.jsx)("svg",{className:"w-3 h-3 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})})})]})},e.id)):(0,n.jsx)("div",{className:"text-center text-neutral-500 text-sm py-4",children:"No recent events"}),!f&&(0,n.jsx)(s.$,{onClick:()=>a.push("/dashboard/events?view=past"),variant:"outline",size:"sm",className:"w-full mt-2 text-neutral-600 border-neutral-200 hover:bg-neutral-50",children:"View All Past Events"})]})]}),(0,n.jsxs)("div",{className:"flex-shrink-0",children:[(0,n.jsxs)("button",{onClick:()=>{m(!h)},className:"w-full flex items-center justify-between px-3 py-2 text-sm font-body text-neutral-700 hover:bg-neutral-50 rounded-md transition-colors cursor-pointer",children:[(0,n.jsx)("span",{className:"flex items-center",children:"⚙️ Preferences"}),(0,n.jsx)("svg",{className:"w-4 h-4 transition-transform duration-200 ".concat(h?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),h&&(0,n.jsx)("div",{className:"mt-2 space-y-2",children:p.map(e=>(0,n.jsx)("div",{className:"bg-neutral-50 rounded-md p-3 border border-neutral-200 hover:bg-neutral-100 transition-colors",children:"time-range"===e.type?(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-sm",children:e.icon}),(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:e.label})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,n.jsx)("input",{type:"time",value:e.startTime||"",onChange:t=>y(e.id,"start",t.target.value),className:"text-xs bg-white border border-neutral-300 rounded px-1.5 py-0.5 w-25 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",onClick:e=>e.stopPropagation()}),(0,n.jsx)("span",{className:"text-sm text-neutral-400",children:"-"}),(0,n.jsx)("input",{type:"time",value:e.endTime||"",onChange:t=>y(e.id,"end",t.target.value),className:"text-xs bg-white border border-neutral-300 rounded px-1.5 py-0.5 w-25 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",onClick:e=>e.stopPropagation()})]})]}):(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("span",{className:"text-sm",children:e.icon}),(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900",children:e.label})]}),(0,n.jsx)("div",{className:"flex justify-center",children:"select"===e.type&&e.options&&(0,n.jsx)("select",{value:e.value||"",onChange:t=>b(e.id,t.target.value),className:"text-xs bg-white border border-neutral-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",onClick:e=>e.stopPropagation(),children:e.options.map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})})]})},e.id))})]})]})]})},h=()=>{let[e,t]=(0,l.useState)(!1),[a,s]=(0,l.useState)([]),[o,c]=(0,l.useState)([]),[d,u]=(0,l.useState)(!0),h=(0,i.useRouter)(),m=e=>e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),p=e=>e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),v=()=>o;return(0,l.useEffect)(()=>{(async()=>{u(!0);try{let[e,t]=await Promise.all([r.L.getUpcomingEvents(3),r.L.getEventsForWeek(new Date(2025,6,14))]);s(e),c(t)}catch(e){console.error("Failed to load events:",e),s([]),c([])}finally{u(!1)}})()},[]),(0,n.jsxs)("div",{className:"bg-white border border-secondary-200 rounded-lg min-h-[calc(100vh-8rem)] relative overflow-hidden transition-all duration-300",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-white/85 backdrop-blur-sm flex items-center justify-center transition-opacity duration-300 ".concat(e?"opacity-0 pointer-events-none":"opacity-100"),children:(0,n.jsxs)("div",{className:"px-8 w-80",children:[(0,n.jsx)("h3",{className:"text-lg font-display font-semibold text-neutral-900 mb-6 text-center",children:"Upcoming Events"}),(0,n.jsx)("div",{className:"space-y-3",children:d?(0,n.jsx)("div",{className:"animate-pulse space-y-2",children:[1,2,3].map(e=>(0,n.jsx)("div",{className:"h-12 bg-neutral-200 rounded"},e))}):a.length>0?a.map(e=>(0,n.jsx)("div",{className:"bg-neutral-50 rounded-md p-3 border border-neutral-200 hover:bg-neutral-100 transition-colors",children:(0,n.jsxs)("div",{className:"flex items-start justify-between",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-900 truncate mb-1",children:e.title}),(0,n.jsxs)("p",{className:"text-xs text-neutral-500",children:[p(e.date)," at ",m(e.date)]})]}),(0,n.jsx)("div",{className:"ml-2 flex-shrink-0",children:(0,n.jsx)("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-blue-100 rounded-full",children:(0,n.jsx)("svg",{className:"w-3 h-3 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})})})]})},e.id)):(0,n.jsx)("div",{className:"text-center text-neutral-500 text-sm py-4",children:"No upcoming events"})})]})}),(0,n.jsxs)("div",{className:"p-4 h-full transition-opacity duration-300 ".concat(e?"opacity-100":"opacity-15"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-display font-semibold text-neutral-900",children:"Week of July 14 - July 20, 2025"}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)("button",{onClick:()=>h.push("/dashboard/events?view=upcoming"),className:"inline-flex items-center px-3 py-1 bg-primary-600 text-white text-xs font-medium rounded hover:bg-primary-700 transition-colors duration-200",children:[(0,n.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Upcoming"]}),(0,n.jsx)("button",{className:"p-1 hover:bg-neutral-100 rounded cursor-pointer",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("button",{className:"p-1 hover:bg-neutral-100 rounded cursor-pointer",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,n.jsx)("div",{className:"bg-neutral-50 p-2 text-center text-xs font-medium text-neutral-600",children:e},e)),Array.from({length:42},(e,t)=>{let a=t-28+1,s=a>0&&a<=31,i=v().filter(e=>e.date.getDate()===a&&6===e.date.getMonth()),l=i.length>0,r=i[0];return(0,n.jsxs)("div",{className:"bg-white p-2 min-h-16 ".concat(s?"text-neutral-900":"text-neutral-300"),children:[(0,n.jsx)("div",{className:"text-xs font-medium mb-1",children:s?a:""}),l&&r&&(0,n.jsx)("div",{className:"text-xs p-1 rounded text-white truncate ".concat("coffee_chat"===r.type?"bg-purple-500":"bg-primary-500"),children:r.title})]},t)})]})]})]})};var m=a(1681),p=a(7600);function v(){let{openNewEventModal:e}=(0,m.h)(),{user:t,isLoading:a,isAuthenticated:s}=(0,p.A)(),r=(0,i.useRouter)();return((0,l.useEffect)(()=>{console.log("\uD83C\uDFAF Dashboard auth state:",{isLoading:a,isAuthenticated:s,hasUser:!!t,userEmail:null==t?void 0:t.email}),a||s||(console.log("❌ Dashboard: Not authenticated, redirecting to login"),r.push("/login"))},[a,s,t,r]),a)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),(0,n.jsx)("p",{className:"text-neutral-600",children:"Checking authentication..."})]})}):s?(0,n.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,n.jsx)("div",{className:"lg:col-span-1",children:(0,n.jsx)(u,{onNewEvent:()=>{e()}})}),(0,n.jsx)("div",{className:"lg:col-span-3",children:(0,n.jsx)(h,{})})]})}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)("p",{className:"text-neutral-600",children:"Redirecting to login..."})})})}},6136:(e,t,a)=>{Promise.resolve().then(a.bind(a,2941))},7600:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,AuthProvider:()=>o});var n=a(5155),s=a(2115),i=a(3843);let l=(0,s.createContext)(void 0),r=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:t}=e,[a,r]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null),[h,m]=(0,s.useState)(0),p=(0,s.useCallback)(async()=>{let e=Date.now();if(e-h<2e3)return void console.log("⏳ Auth check throttled - too soon since last check");m(e);try{console.log("\uD83D\uDD0D Checking auth status..."),c(!0),u(null);let e=await fetch("".concat(i.$.apiUrl,"/api/auth/status"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){var t;let a=await e.json();console.log("✅ Auth status response:",{authenticated:a.authenticated,hasUser:!!a.user,userEmail:null==(t=a.user)?void 0:t.email}),a.authenticated&&a.user?(r(a.user),console.log("\uD83C\uDF89 User authenticated:",a.user.email)):(r(null),console.log("❌ User not authenticated"))}else if(401===e.status)console.log("❌ 401 - Not authenticated"),r(null);else throw Error("Auth check failed: ".concat(e.status))}catch(e){console.error("Auth status check failed:",e),u("Unable to verify authentication status"),r(null)}finally{c(!1)}},[h]),v=async()=>{try{if(u(null),c(!0),(await fetch("".concat(i.$.apiUrl,"/api/auth/logout"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok)r(null),window.location.href="/";else throw Error("Logout failed")}catch(e){console.error("Logout failed:",e),u("Logout failed. Please try again.")}finally{c(!1)}};return(0,s.useEffect)(()=>{p();let e=()=>{"undefined"==typeof document||document.hidden||p()},t=()=>{p()};if("undefined"!=typeof document)return document.addEventListener("visibilitychange",e),window.addEventListener("online",t),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("online",t)}},[p]),(0,s.useEffect)(()=>{if(!a)return;let e=setInterval(()=>{p()},3e5);return()=>clearInterval(e)},[a,p]),(0,n.jsx)(l.Provider,{value:{user:a,isAuthenticated:!!a,isLoading:o,error:d,login:()=>{window.location.href="".concat(i.$.apiUrl,"/api/auth/google")},logout:v,checkAuthStatus:p,clearError:()=>{u(null)}},children:t})}},8670:(e,t,a)=>{"use strict";a.d(t,{L:()=>r});let n=e=>({id:e.id,participantName:1===e.participants.length?e.participants[0]:"".concat(e.participants[0]," +").concat(e.participants.length-1," others"),date:e.date.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:e.date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),completed:"completed"===e.status}),s=[{id:"1",title:"Team Coffee Chat",participants:["John Smith"],date:new Date(2025,5,15,14,0),status:"completed",duration:30,finalTimeSlot:"Mon 2-3pm",type:"coffee_chat",createdAt:new Date(2025,5,10),updatedAt:new Date(2025,5,15)},{id:"2",title:"Project Kickoff Meeting",participants:["Sarah Johnson"],date:new Date(2025,5,12,10,30),status:"completed",duration:45,finalTimeSlot:"Thu 10:30-11:15am",type:"regular",createdAt:new Date(2025,5,8),updatedAt:new Date(2025,5,12)},{id:"3",title:"Client Demo Prep",participants:["Mike Chen"],date:new Date(2025,5,8,15,15),status:"cancelled",duration:60,finalTimeSlot:"Sun 3:15-4:15pm",type:"regular",createdAt:new Date(2025,5,5),updatedAt:new Date(2025,5,8)},{id:"4",title:"Quarterly Review",participants:["Emily Davis"],date:new Date(2025,5,5,11,0),status:"completed",duration:30,finalTimeSlot:"Wed 11-12pm",type:"regular",createdAt:new Date(2025,5,1),updatedAt:new Date(2025,5,5)},{id:"5",title:"Team Building Session",participants:["Alex Wilson"],date:new Date(2025,4,28,16,30),status:"completed",duration:30,finalTimeSlot:"Tue 4:30-5:00pm",type:"regular",createdAt:new Date(2025,4,25),updatedAt:new Date(2025,4,28)},{id:"6",title:"Marketing Strategy Session",participants:["Lisa Brown"],date:new Date(2025,4,25,13,45),status:"cancelled",duration:45,finalTimeSlot:"Sat 1:45-2:30pm",type:"regular",createdAt:new Date(2025,4,20),updatedAt:new Date(2025,4,25)},{id:"11",title:"Team Sync",participants:["John Doe","Jane Smith"],date:new Date(2025,6,18,9,0),status:"scheduled",duration:60,finalTimeSlot:"Fri 9-10am",type:"regular",createdAt:new Date(2025,6,10),updatedAt:new Date(2025,6,10)},{id:"12",title:"Coffee with Sarah",participants:["Sarah Wilson"],date:new Date(2025,6,20,14,0),status:"scheduled",duration:30,finalTimeSlot:"Sun 2-2:30pm",type:"coffee_chat",createdAt:new Date(2025,6,12),updatedAt:new Date(2025,6,12)},{id:"13",title:"Project Review",participants:["Mike Johnson","Emily Chen"],date:new Date(2025,6,22,11,0),status:"scheduled",duration:45,finalTimeSlot:"Tue 11-11:45am",type:"regular",createdAt:new Date(2025,6,14),updatedAt:new Date(2025,6,14)},{id:"14",title:"Coffee Break Chat",participants:["Alex Thompson"],date:new Date(2025,6,25,15,30),status:"scheduled",duration:30,finalTimeSlot:"Fri 3:30-4pm",type:"coffee_chat",createdAt:new Date(2025,6,16),updatedAt:new Date(2025,6,16)},{id:"15",title:"Weekly Standup",participants:["Team Alpha"],date:new Date(2025,6,28,10,0),status:"scheduled",duration:30,finalTimeSlot:"Mon 10-10:30am",type:"regular",createdAt:new Date(2025,6,18),updatedAt:new Date(2025,6,18)},{id:"16",title:"Client Presentation",participants:["David Kim","Lisa Rodriguez","Tom Wilson"],date:new Date(2025,7,2,14,0),status:"scheduled",duration:90,finalTimeSlot:"Sat 2-3:30pm",type:"regular",createdAt:new Date(2025,6,20),updatedAt:new Date(2025,6,20)}];var i=a(6441);class l{static getCachedEvents(){let e=Date.now();return this.eventsCache.length>0&&e-this.cacheTimestamp<this.CACHE_DURATION?this.eventsCache:null}static async fetchAllEvents(){try{let e=this.getCachedEvents();if(e)return e;let t=(await i.uH.get("/api/events")).data||[];return this.eventsCache=t,this.cacheTimestamp=Date.now(),t}catch(e){return console.warn("Failed to fetch events from backend, falling back to mock data:",e),s}}static clearCache(){this.eventsCache=[],this.cacheTimestamp=0}static async getRecentEvents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return[...await this.fetchAllEvents()].sort((e,t)=>t.date.getTime()-e.date.getTime()).slice(0,e).map(n)}static async getAllPastEvents(){try{return(await i.uH.get("/api/events/past")).data||[]}catch(e){return console.warn("Failed to fetch past events, falling back to cached/mock data:",e),(await this.fetchAllEvents()).sort((e,t)=>t.date.getTime()-e.date.getTime())}}static async getEventById(e){try{return(await i.uH.get("/api/events/".concat(e))).data}catch(t){return console.warn("Failed to fetch event ".concat(e,", falling back to cached data:"),t),(await this.fetchAllEvents()).find(t=>t.id===e)}}static async getEventsByStatus(e){return(await this.fetchAllEvents()).filter(t=>t.status===e).sort((e,t)=>t.date.getTime()-e.date.getTime())}static async getUpcomingEvents(e){try{let t=(await i.uH.get("/api/events/upcoming")).data||[];return e?t.slice(0,e):t}catch(s){console.warn("Failed to fetch upcoming events, falling back to cached/mock data:",s);let t=await this.fetchAllEvents(),a=new Date,n=t.filter(e=>"scheduled"===e.status&&e.date>a).sort((e,t)=>e.date.getTime()-t.date.getTime());return e?n.slice(0,e):n}}static async getScheduledEvents(){return this.getEventsByStatus("scheduled")}static async getEventsForWeek(e){let t=new Date(e);return t.setDate(t.getDate()+6),t.setHours(23,59,59,999),this.getEventsByDateRange(e,t)}static async getEventsForDay(e){let t=new Date(e);t.setHours(0,0,0,0);let a=new Date(e);return a.setHours(23,59,59,999),this.getEventsByDateRange(t,a)}static async getEventsByDateRange(e,t){return(await this.fetchAllEvents()).filter(a=>a.date>=e&&a.date<=t).sort((e,t)=>t.date.getTime()-e.date.getTime())}static async getEventCounts(){let e=await this.fetchAllEvents(),t={completed:0,cancelled:0,scheduled:0,total:e.length};return e.forEach(e=>{t[e.status]++}),t}static isUpcoming(e){let t=new Date;return"scheduled"===e.status&&e.date>t}static isPast(e){let t=new Date;return e.date<t}}l.eventsCache=[],l.cacheTimestamp=0,l.CACHE_DURATION=3e5;let r=l}},e=>{var t=t=>e(e.s=t);e.O(0,[320,557,441,684,358],()=>t(6136)),_N_E=e.O()}]);
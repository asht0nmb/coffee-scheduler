(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{1035:(e,a,t)=>{"use strict";t.d(a,{Eg:()=>o,jI:()=>i,GI:()=>r,LP:()=>c,U$:()=>s,Rg:()=>n,xJ:()=>l});let l=[{value:"America/New_York",label:"Eastern Time (EST/EDT)",region:"us"},{value:"America/Chicago",label:"Central Time (CST/CDT)",region:"us"},{value:"America/Denver",label:"Mountain Time (MST/MDT)",region:"us"},{value:"America/Los_Angeles",label:"Pacific Time (PST/PDT)",region:"us"},{value:"America/Anchorage",label:"Alaska Time (AKST/AKDT)",region:"us"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)",region:"us"},{value:"Europe/London",label:"London (GMT/BST)",region:"europe"},{value:"Europe/Paris",label:"Paris (CET/CEST)",region:"europe"},{value:"Europe/Berlin",label:"Berlin (CET/CEST)",region:"europe"},{value:"Europe/Rome",label:"Rome (CET/CEST)",region:"europe"},{value:"Europe/Madrid",label:"Madrid (CET/CEST)",region:"europe"},{value:"Asia/Tokyo",label:"Tokyo (JST)",region:"asia"},{value:"Asia/Shanghai",label:"Shanghai (CST)",region:"asia"},{value:"Asia/Seoul",label:"Seoul (KST)",region:"asia"},{value:"Asia/Hong_Kong",label:"Hong Kong (HKT)",region:"asia"},{value:"Asia/Singapore",label:"Singapore (SGT)",region:"asia"},{value:"Asia/Mumbai",label:"Mumbai (IST)",region:"asia"},{value:"Asia/Dubai",label:"Dubai (GST)",region:"asia"},{value:"Australia/Sydney",label:"Sydney (AEDT/AEST)",region:"oceania"},{value:"Australia/Melbourne",label:"Melbourne (AEDT/AEST)",region:"oceania"},{value:"Pacific/Auckland",label:"Auckland (NZDT/NZST)",region:"oceania"},{value:"America/Toronto",label:"Toronto (EST/EDT)",region:"americas"},{value:"America/Vancouver",label:"Vancouver (PST/PDT)",region:"americas"},{value:"America/Sao_Paulo",label:"S\xe3o Paulo (BRT)",region:"americas"},{value:"America/Mexico_City",label:"Mexico City (CST/CDT)",region:"americas"}],n=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"Europe/London",label:"GMT (London)"},{value:"Europe/Paris",label:"CET (Paris)"},{value:"Asia/Tokyo",label:"JST (Tokyo)"},{value:"Asia/Shanghai",label:"CST (Shanghai)"},{value:"Australia/Sydney",label:"AEST (Sydney)"}],r="America/New_York",s=[{value:15,label:"15 minutes",category:"quick"},{value:20,label:"20 minutes",category:"quick"},{value:25,label:"25 minutes",category:"quick"},{value:30,label:"30 minutes",category:"standard"},{value:45,label:"45 minutes",category:"standard"},{value:60,label:"1 hour",category:"standard"},{value:90,label:"1.5 hours",category:"extended"},{value:120,label:"2 hours",category:"extended"}],i=30,o={APP_NAME:"Coffee Scheduler",APP_TAGLINE:"Spend time connecting, not scheduling",COMPANY_NAME:"Coffee Scheduler Inc.",DEFAULT_EVENT_TITLE:"Coffee Chat",DEFAULT_CONTACT_NAME:"Unknown Contact",DASHBOARD_SUBTITLE:"Dashboard",MENU_TITLE:"Menu",CTA_PRIMARY:"Start Connecting",CTA_NEW_EVENT:"✨ New Event",CTA_VIEW_DETAILS:"\uD83D\uDCCB View Details",CTA_SCHEDULE_AGAIN:"\uD83D\uDD04 Schedule Again",CTA_EDIT_MEETING:"✏️ Edit Meeting",CTA_CANCEL_MEETING:"❌ Cancel Meeting",SUCCESS_SAVE:"Settings saved successfully!",ERROR_VALIDATION:"Please add at least one contact to continue with scheduling.",LOADING_TEXT:"Loading...",NO_EVENTS_UPCOMING:"Your scheduled meetings will appear here",NO_EVENTS_PAST:"Your completed scheduling sessions will appear here"},c={TIMEZONE:"America/New_York",DURATION:30,WORKING_HOURS:{START:"09:00",END:"17:00"},REMINDER_TIME:15,SYNC_FREQUENCY:"hourly",DATA_RETENTION:365}},5553:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var l=t(5155),n=t(2115),r=t(5695),s=t(4753);let i=e=>{let{participants:a,onSlotSelect:t}=e,[r,s]=(0,n.useState)(new Set),[i,o]=(0,n.useState)(()=>{let e=new Date,a=e.getDay(),t=new Date(e);return t.setDate(e.getDate()-a),t}),c=(()=>{let e=[];return a.forEach(a=>{a.timeSlots.forEach((t,l)=>{var n;let[r,s]=t.split(" "),i=null!=(n=({Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6})[r])?n:1;e.push({id:"".concat(a.id,"-").concat(l),participantId:a.id,participantName:a.name,day:r,dayNum:i,time:s,displayText:t,isSelected:!1})})}),e})(),d=e=>{let a="".concat(e.participantId,"-").concat(e.displayText),l=new Set(r);r.has(a)?l.delete(a):l.add(a),s(l),null==t||t(e.participantId,e.displayText)},u=e=>r.has("".concat(e.participantId,"-").concat(e.displayText)),m=e=>{let a=["bg-blue-200 border-blue-400","bg-blue-300 border-blue-500","bg-blue-400 border-blue-600"];return a[(parseInt(e.participantId)-1)%a.length]},x=e=>{let a=["bg-blue-500 border-blue-700","bg-blue-600 border-blue-800","bg-blue-700 border-blue-900"];return a[(parseInt(e.participantId)-1)%a.length]},h=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase(),p=e=>{o(a=>{let t=new Date(a);return t.setDate(a.getDate()+("next"===e?7:-7)),t})},b=c.reduce((e,a)=>(e[a.dayNum]||(e[a.dayNum]=[]),e[a.dayNum].push(a),e),{}),g=(()=>{let e=[];for(let a=0;a<7;a++){let t=new Date(i);t.setDate(i.getDate()+a),e.push(t)}return e})();return(0,l.jsx)("div",{className:"bg-white border border-secondary-200 rounded-lg min-h-[calc(100vh-8rem)] relative overflow-hidden",children:(0,l.jsxs)("div",{className:"p-4 h-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("h3",{className:"text-lg font-display font-semibold text-neutral-900",children:["Week of ",(e=>{let a=new Date(e);a.setDate(e.getDate()+6);let t=e.toLocaleDateString("en-US",{month:"long"}),l=a.toLocaleDateString("en-US",{month:"long"}),n=e.getDate(),r=a.getDate(),s=e.getFullYear();return t===l?"".concat(t," ").concat(n," - ").concat(r,", ").concat(s):"".concat(t," ").concat(n," - ").concat(l," ").concat(r,", ").concat(s)})(i)]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)("button",{onClick:()=>p("prev"),className:"p-1 hover:bg-neutral-100 rounded cursor-pointer",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,l.jsx)("button",{onClick:()=>p("next"),className:"p-1 hover:bg-neutral-100 rounded cursor-pointer",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,l.jsxs)("div",{className:"mb-4 p-3 bg-neutral-50 rounded-lg",children:[(0,l.jsx)("h4",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Legend:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 text-xs",children:a.map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded border ".concat(0===a?"bg-blue-200 border-blue-400":1===a?"bg-blue-300 border-blue-500":"bg-blue-400 border-blue-600")}),(0,l.jsx)("span",{className:"text-neutral-600",children:e.name})]},e.id))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-neutral-200 rounded-lg overflow-hidden",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,l.jsx)("div",{className:"bg-neutral-50 p-2 text-center text-xs font-medium text-neutral-600",children:e},e)),g.map((e,a)=>{let t=b[e.getDay()]||[];return(0,l.jsxs)("div",{className:"bg-white p-2 min-h-16",children:[(0,l.jsx)("div",{className:"text-xs font-medium mb-1 text-neutral-900",children:e.getDate()}),(0,l.jsx)("div",{className:"space-y-1",children:t.map(e=>(0,l.jsxs)("button",{onClick:()=>d(e),className:"w-full p-1 rounded text-xs font-medium transition-all duration-200 border relative cursor-pointer ".concat(u(e)?"".concat(x(e)," text-white shadow-md"):"".concat(m(e)," text-blue-800 hover:shadow-sm")),title:"".concat(e.participantName,": ").concat(e.displayText),children:[(0,l.jsx)("div",{className:"truncate",children:e.time}),(0,l.jsx)("div",{className:"text-xs opacity-75 truncate flex items-center justify-between",children:(0,l.jsx)("span",{children:h(e.participantName)})})]},e.id))})]},a)})]}),r.size>0&&(0,l.jsxs)("div",{className:"mt-4 p-3 bg-primary-50 rounded-lg",children:[(0,l.jsxs)("h4",{className:"text-sm font-medium text-primary-900 mb-2",children:["Selected Time Slots (",r.size,"):"]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-1",children:Array.from(r).map(e=>{let[t,n]=e.split("-"),r=a.find(e=>e.id===t);return(0,l.jsxs)("span",{className:"inline-block px-2 py-1 bg-primary-100 text-primary-800 text-xs rounded",children:[null==r?void 0:r.name,": ",n]},e)})})]})]})})};var o=t(285);let c=e=>{let{isOpen:a,onCancel:t,onConfirm:r}=e;return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&t()};return a&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[a,t]),a)?(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:t,children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full mx-auto",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("div",{className:"p-6 border-b border-neutral-200",children:(0,l.jsx)("h2",{className:"text-lg font-display font-semibold text-neutral-900",children:"Exit Scheduling?"})}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)("p",{className:"text-neutral-600 font-body",children:"Any unsaved changes will be lost. Are you sure you want to return to the dashboard?"})}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-neutral-200",children:[(0,l.jsx)("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-neutral-700 bg-neutral-100 hover:bg-neutral-200 rounded-lg transition-colors cursor-pointer",children:"Cancel"}),(0,l.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors cursor-pointer",children:"Exit Scheduling"})]})]})}):null};var d=t(1035);let u=e=>{let{isOpen:a,onClose:t,onAdd:r}=e,[s,i]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(d.GI);return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&t()};return a&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a,t]),a)?(0,l.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:t,children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full mx-auto",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-neutral-200",children:[(0,l.jsx)("h2",{className:"text-xl font-display font-semibold text-neutral-900",children:"Add Participant"}),(0,l.jsx)("button",{onClick:t,className:"text-neutral-400 hover:text-neutral-600 transition-colors",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&(r({name:s.trim(),email:c.trim(),timezone:m}),i(""),u(""),x(d.GI),t())},className:"p-6 space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Name *"}),(0,l.jsx)("input",{type:"text",id:"name",value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter participant name",required:!0,autoFocus:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Email"}),(0,l.jsx)("input",{type:"email",id:"email",value:c,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter email address"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"timezone",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Timezone"}),(0,l.jsx)("select",{id:"timezone",value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:d.Rg.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4",children:[(0,l.jsx)(o.$,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),(0,l.jsx)(o.$,{type:"submit",children:"Add Participant"})]})]})]})}):null};function m(){let e=(0,r.useRouter)(),a=(0,r.useParams)().id,{currentSession:t,loadSession:d,isLoading:m,error:x,selectSlot:h,getSelectedSlots:p,confirmScheduling:b}=(0,s.s)(),{isReadyForConfirmation:g}=(0,s.V)(),[v,f]=(0,n.useState)([]),[j,N]=(0,n.useState)(!0),[y,S]=(0,n.useState)(null),[T,w]=(0,n.useState)(null),[E,C]=(0,n.useState)(null),[k,A]=(0,n.useState)(null),[D,L]=(0,n.useState)(!1),[M,_]=(0,n.useState)(!1),[I,P]=(0,n.useState)(!1),[R,O]=(0,n.useState)(null),[z,B]=(0,n.useState)("");(0,n.useEffect)(()=>{let l=async()=>{N(!0);try{if(t&&t.sessionId===a)f(t.participants||[]);else{let t=await d(a);t&&t.participants?f(t.participants):(console.error("Scheduling session not found"),e.push("/dashboard"))}}catch(a){console.error("Failed to load scheduling session:",a),e.push("/dashboard")}finally{N(!1)}};a&&l()},[a,t,d,e]);let W=(e,a)=>{f(t=>t.map(t=>t.id===e?{...t,timeSlots:t.timeSlots.filter(e=>e!==a)}:t)),A(null),C(null)},F=(e,a,t)=>{a!==t&&f(l=>l.map(l=>l.id===a?{...l,timeSlots:l.timeSlots.filter(a=>a!==e)}:l.id===t?l.timeSlots.includes(e)?l:{...l,timeSlots:[...l.timeSlots,e]}:l))},U=(e,a,t)=>{let l={timeSlot:a,participantId:t};e.dataTransfer.setData("text/plain",JSON.stringify(l)),S(l)},G=()=>{S(null),w(null)},H=(e,a)=>{e.preventDefault(),w(a)},Y=()=>{w(null)},V=(e,a)=>{e.preventDefault();let t=e.dataTransfer.getData("text/plain");if(t){let e=JSON.parse(t);F(e.timeSlot,e.participantId,a)}w(null),S(null)},$=(e,a)=>{C("".concat(e,"-").concat(a))},K=()=>{C(null)},J=(e,a)=>{A("".concat(e,"-").concat(a))},q=(e,a)=>{W(e,a),A(null),C(null)},Z=()=>{A(null)},Q=()=>{L(!0)},X=(e,a)=>{O(e),B(a)},ee=e=>{f(a=>a.map(a=>a.id===e?{...a,name:z.trim()}:a)),O(null),B("")};(0,n.useEffect)(()=>{let e=()=>{L(!0)};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},[]);let ea=async()=>{if(!g)return void alert("Please select a time slot for each participant before confirming.");_(!0);try{await b(a),e.push("/dashboard/results/".concat(a))}catch(e){console.error("Failed to confirm scheduling:",e),alert("Failed to confirm your selections. Please try again.")}finally{_(!1)}};return j||m?(0,l.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-neutral-600",children:"Loading your scheduling session..."})]})})}):x||0===v.length?(0,l.jsx)("div",{className:"px-4 py-6 sm:px-0",children:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-red-500 mb-4",children:(0,l.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.732 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,l.jsx)("h2",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Session Not Found"}),(0,l.jsx)("p",{className:"text-neutral-600 mb-4",children:x||"The scheduling session could not be loaded."}),(0,l.jsx)(o.$,{onClick:()=>e.push("/dashboard"),children:"Return to Dashboard"})]})})}):(0,l.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-display font-bold text-neutral-900 mb-2",children:"Schedule Your Coffee Chats"}),(0,l.jsx)("p",{className:"text-neutral-600 font-body",children:"Review suggested times and select your preferred slots for each participant."})]}),(0,l.jsx)(o.$,{onClick:Q,className:"bg-primary-600 hover:bg-primary-700 text-white",children:"✕ Exit"})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-lg p-6 shadow-sm",children:[(0,l.jsx)("h3",{className:"text-lg font-display font-semibold text-neutral-900 mb-4",children:"Participants"}),(0,l.jsx)("div",{className:"space-y-6",children:v.map(e=>{let a=T===e.id,t=(null==y?void 0:y.participantId)===e.id;return(0,l.jsxs)("div",{className:"group transition-colors duration-300 border rounded-lg ".concat(a||t?"border-primary-400":"border-transparent"," ").concat(t?"opacity-75":""),onDragOver:a=>H(a,e.id),onDragLeave:Y,onDrop:a=>V(a,e.id),children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-primary-500 rounded-full flex-shrink-0"}),R===e.id?(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,l.jsx)("input",{type:"text",value:z,onChange:e=>B(e.target.value),className:"font-display font-semibold text-neutral-900 bg-white border border-neutral-300 rounded px-2 py-1 flex-1",onKeyDown:a=>{"Enter"===a.key&&ee(e.id),"Escape"===a.key&&O(null)},autoFocus:!0}),(0,l.jsx)("button",{onClick:()=>ee(e.id),className:"text-green-600 hover:text-green-700 transition-colors",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,l.jsx)("button",{onClick:()=>O(null),className:"text-red-600 hover:text-red-700 transition-colors",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,l.jsx)("h4",{className:"font-display font-semibold text-neutral-900 truncate",children:e.name}),(0,l.jsx)("button",{onClick:()=>X(e.id,e.name),className:"text-neutral-400 hover:text-neutral-600 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),(0,l.jsx)("p",{className:"text-sm text-neutral-500 ml-6 font-body",children:e.timezone})]}),(0,l.jsx)("div",{className:"ml-6 space-y-2",children:e.timeSlots.map((a,t)=>{let n="".concat(e.id,"-").concat(a),r=(null==y?void 0:y.timeSlot)===a&&(null==y?void 0:y.participantId)===e.id,s=k===n;return(0,l.jsxs)("div",{className:"flex items-center justify-between bg-neutral-100 text-neutral-700 px-3 py-1.5 rounded text-sm transition-all duration-200 ".concat(r?"opacity-50 scale-95":"hover:bg-neutral-200"),children:[(0,l.jsx)("span",{className:"font-medium",children:a}),(0,l.jsxs)("div",{className:"flex items-center gap-1 min-w-[80px] justify-end",onMouseLeave:()=>{K()},children:[s&&(0,l.jsxs)("div",{className:"flex items-center gap-1 transition-all duration-200",children:[(0,l.jsx)(o.$,{onClick:()=>q(e.id,a),variant:"ghost",size:"sm",className:"w-5 h-5 p-0 text-green-600 hover:text-green-700 hover:bg-green-50","aria-label":"Confirm delete ".concat(a),children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,l.jsx)(o.$,{onClick:Z,variant:"ghost",size:"sm",className:"w-5 h-5 p-0 text-red-500 hover:text-red-600 hover:bg-red-50","aria-label":"Cancel delete ".concat(a),children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),E===n&&!s&&(0,l.jsx)(o.$,{onClick:()=>{J(e.id,a)},variant:"ghost",size:"sm",className:"w-5 h-5 p-0 text-red-500 hover:text-red-600 hover:bg-red-50 transition-all duration-200","aria-label":"Delete ".concat(a),children:(0,l.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,l.jsx)("div",{draggable:!0,onDragStart:t=>{U(t,a,e.id)},onDragEnd:G,onMouseEnter:()=>$(e.id,a),className:"w-6 h-6 flex items-center justify-center cursor-move text-neutral-400 hover:text-neutral-600 transition-colors duration-200","aria-label":"Drag to move ".concat(a),children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M3 5h14a1 1 0 110 2H3a1 1 0 110-2zM3 9h14a1 1 0 110 2H3a1 1 0 110-2zM3 13h14a1 1 0 110 2H3a1 1 0 110-2z"})})})]})]},t)})}),(0,l.jsx)("div",{className:"mt-6 border-b border-neutral-100 last:border-b-0"})]},e.id)})}),(0,l.jsx)(o.$,{variant:"outline",onClick:()=>P(!0),className:"w-full mt-4 border-dashed border-2 border-neutral-300 hover:border-primary-300 hover:bg-primary-50 transition-colors text-primary-600",children:"+ Add Participant"})]})}),(0,l.jsx)("div",{className:"lg:col-span-3",children:(0,l.jsx)(i,{participants:v,onSlotSelect:(e,a)=>{h(e,a),console.debug("Slot selected:",{participantId:e,timeSlot:a})}})})]}),(0,l.jsx)("div",{className:"mt-8 border-t border-neutral-200 pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-display font-semibold text-neutral-900 mb-1",children:"Ready to Schedule?"}),(0,l.jsx)("p",{className:"text-sm text-neutral-600",children:g?"".concat(p().length," of ").concat(v.length," participants have selected times."):"Please select a time slot for each participant (".concat(p().length,"/").concat(v.length," selected).")})]}),(0,l.jsxs)("div",{className:"flex gap-3",children:[(0,l.jsx)(o.$,{variant:"outline",onClick:Q,disabled:M,className:"px-6",children:"Save for Later"}),(0,l.jsx)(o.$,{onClick:ea,disabled:!g||M,className:"px-6",children:M?"Confirming...":"Confirm & Schedule"})]})]})}),(0,l.jsx)(c,{isOpen:D,onCancel:()=>{L(!1)},onConfirm:()=>{L(!1),e.push("/dashboard")}}),(0,l.jsx)(u,{isOpen:I,onClose:()=>P(!1),onAdd:e=>{let a={id:Date.now().toString(),name:e.name,timezone:e.timezone,email:e.email,timeSlots:[]};f(e=>[...e,a])}})]})}},9347:(e,a,t)=>{Promise.resolve().then(t.bind(t,5553))}},e=>{var a=a=>e(e.s=a);e.O(0,[320,557,753,441,684,358],()=>a(9347)),_N_E=e.O()}]);
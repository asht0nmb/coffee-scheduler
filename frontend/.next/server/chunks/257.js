exports.id=257,exports.ids=[257],exports.modules={4780:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(49384);function n(...e){return(0,r.$)(e)}},5475:(e,t,a)=>{"use strict";a.d(t,{$:()=>s});let r=["NEXT_PUBLIC_API_URL"],n={NEXT_PUBLIC_APP_NAME:"Coffee Scheduler"},s=function(){void 0===process.env.VERCEL_ENV&&0,!0;try{let e=[];for(let t of r)process.env[t]||e.push(t);if(e.length>0)throw Error(`Missing required environment variables: ${e.join(", ")}
Please check your .env.local file and ensure all required variables are set.`)}catch(e){console.warn("Environment validation warning:",e)}return{apiUrl:"http://localhost:5001",nodeEnv:"production",appName:process.env.NEXT_PUBLIC_APP_NAME||n.NEXT_PUBLIC_APP_NAME,isDevelopment:!1,isProduction:!0,isTest:!1}}()},7112:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,AuthProvider:()=>l});var r=a(60687),n=a(43210),s=a(5475);let o=(0,n.createContext)(void 0),i=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=({children:e})=>{let[t,a]=(0,n.useState)(null),[i,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(0),h=(0,n.useCallback)(async()=>{let e=Date.now();if(e-u<2e3)return void console.log("⏳ Auth check throttled - too soon since last check");m(e);try{console.log("\uD83D\uDD0D Checking auth status..."),l(!0),d(null);let e=await fetch(`${s.$.apiUrl}/api/auth/status`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();console.log("✅ Auth status response:",{authenticated:t.authenticated,hasUser:!!t.user,userEmail:t.user?.email}),t.authenticated&&t.user?(a(t.user),console.log("\uD83C\uDF89 User authenticated:",t.user.email)):(a(null),console.log("❌ User not authenticated"))}else if(401===e.status)console.log("❌ 401 - Not authenticated"),a(null);else throw Error(`Auth check failed: ${e.status}`)}catch(e){console.error("Auth status check failed:",e),d("Unable to verify authentication status"),a(null)}finally{l(!1)}},[u]),g=async()=>{try{if(d(null),l(!0),(await fetch(`${s.$.apiUrl}/api/auth/logout`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok)a(null);else throw Error("Logout failed")}catch(e){console.error("Logout failed:",e),d("Logout failed. Please try again.")}finally{l(!1)}};return(0,n.useEffect)(()=>{h()},[h]),(0,n.useEffect)(()=>{if(!t)return;let e=setInterval(()=>{h()},3e5);return()=>clearInterval(e)},[t,h]),(0,r.jsx)(o.Provider,{value:{user:t,isAuthenticated:!!t,isLoading:i,error:c,login:()=>{},logout:g,checkAuthStatus:h,clearError:()=>{d(null)}},children:e})}},10756:(e,t,a)=>{"use strict";a.d(t,{LoginModal:()=>i});var r=a(60687),n=a(21767),s=a(7112),o=a(43210);let i=()=>{let{isLoginModalOpen:e,closeLoginModal:t}=(0,n.h)(),{login:a,isLoading:i,error:l}=(0,s.A)();return((0,o.useEffect)(()=>{let a=a=>{"Escape"===a.key&&e&&t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,t]),e)?(0,r.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center",style:{zIndex:"var(--z-modal)"},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black backdrop-blur-sm",style:{opacity:"var(--modal-backdrop-opacity)",backdropFilter:"blur(var(--modal-backdrop-blur))"},onClick:t}),(0,r.jsxs)("div",{className:"relative bg-white border w-full mx-4",style:{maxWidth:"var(--modal-max-width)",padding:"var(--modal-padding)",borderRadius:"var(--modal-radius)",boxShadow:"var(--modal-shadow)",border:"var(--modal-border)"},children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-neutral-400 hover:text-neutral-600 transition-colors","aria-label":"Close modal",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-display font-bold text-neutral-900 mb-2",children:"\uD83D\uDCC5 Welcome to Scheduler"}),(0,r.jsx)("p",{className:"font-body text-neutral-600",children:"Sign in to start optimizing your meeting times"})]}),l&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:(0,r.jsx)("p",{className:"text-sm text-red-700",children:l})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("button",{onClick:a,disabled:i,className:"w-full flex justify-center items-center px-4 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,r.jsxs)("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 23c2.1197 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),i?"Signing in...":"Continue with Google"]}),(0,r.jsx)("p",{className:"text-xs font-body text-neutral-500 text-center",children:"We'll redirect you to Google to sign in securely"})]}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-secondary-200",children:(0,r.jsx)("p",{className:"text-xs font-body text-neutral-500 text-center",children:"By signing in, you agree to our terms of service and privacy policy"})})]})]}):null}},11330:(e,t,a)=>{"use strict";a.d(t,{SchedulingProvider:()=>n});var r=a(12907);(0,r.registerClientReference)(function(){throw Error("Attempted to call useScheduling() from the server but useScheduling is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/contexts/scheduling-context.tsx","useScheduling");let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call SchedulingProvider() from the server but SchedulingProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/contexts/scheduling-context.tsx","SchedulingProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useSchedulingValidation() from the server but useSchedulingValidation is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/contexts/scheduling-context.tsx","useSchedulingValidation")},13278:(e,t,a)=>{"use strict";a.d(t,{SchedulingProvider:()=>h,s:()=>m,V:()=>g});var r=a(60687),n=a(43210),s=a(24435),o=a(30305);class i{static{this.contactsCache=[]}static{this.cacheTimestamp=0}static{this.CACHE_DURATION=3e5}static getCachedContacts(){let e=Date.now();return this.contactsCache.length>0&&e-this.cacheTimestamp<this.CACHE_DURATION?this.contactsCache:null}static clearCache(){this.contactsCache=[],this.cacheTimestamp=0}static async getAllContacts(){try{let e=this.getCachedContacts();if(e)return e;let t=(await s.uH.get("/api/contacts")).data||[];return this.contactsCache=t,this.cacheTimestamp=Date.now(),t}catch(e){throw console.error("Failed to fetch contacts:",e),new o.uV({message:"Failed to load contacts",code:"CONTACTS_FETCH_ERROR",userMessage:"Unable to load your contacts. Please try again.",originalError:e,retryable:!0})}}static async getContactById(e){try{(0,o.Kf)({id:e},["id"],{id:"Contact ID"});let t=await s.uH.get(`/api/contacts/${e}`);if(!t.data)throw new o.uV({message:`Contact with ID ${e} not found`,code:"CONTACT_NOT_FOUND",userMessage:"The requested contact was not found.",retryable:!1});return t.data}catch(t){if(t instanceof o.uV)throw t;throw console.error(`Failed to fetch contact ${e}:`,t),new o.uV({message:"Failed to load contact",code:"CONTACT_FETCH_ERROR",userMessage:"Unable to load the contact details. Please try again.",originalError:t,retryable:!0})}}static async createContact(e){try{if((0,o.Kf)(e,["name","email","timezone"],{name:"Name",email:"Email",timezone:"Timezone"}),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new o.uV({message:"Invalid email format",code:"VALIDATION_ERROR",userMessage:"Please enter a valid email address.",retryable:!1});console.log("\uD83D\uDC65 Creating contact via API:",{contactData:e,timestamp:new Date().toISOString()});let t=await s.uH.post("/api/contacts",e);if(console.log("✅ Contact creation response:",{success:t.success,hasData:!!t.data,contactId:t.data?._id,wasExisting:t.data?.wasExisting}),t.data){let e=t.data.contact||t.data;return this.clearCache(),e}throw new o.uV({message:"Failed to create contact - no data returned",code:"CONTACT_CREATE_ERROR",userMessage:"Failed to create the contact. Please try again.",retryable:!0})}catch(e){if(e instanceof o.uV)throw e;throw console.error("Failed to create contact:",e),new o.uV({message:"Failed to create contact",code:"CONTACT_CREATE_ERROR",userMessage:"Unable to create the contact. Please check your information and try again.",originalError:e,retryable:!0})}}static async updateContact(e,t){try{if((0,o.Kf)({id:e},["id"],{id:"Contact ID"}),t.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))throw new o.uV({message:"Invalid email format",code:"VALIDATION_ERROR",userMessage:"Please enter a valid email address.",retryable:!1});let a=await s.uH.put(`/api/contacts/${e}`,t);if(a.data)return this.clearCache(),a.data;throw new o.uV({message:"Failed to update contact - no data returned",code:"CONTACT_UPDATE_ERROR",userMessage:"Failed to update the contact. Please try again.",retryable:!0})}catch(t){if(t instanceof o.uV)throw t;throw console.error(`Failed to update contact ${e}:`,t),new o.uV({message:"Failed to update contact",code:"CONTACT_UPDATE_ERROR",userMessage:"Unable to update the contact. Please try again.",originalError:t,retryable:!0})}}static async deleteContact(e){try{(0,o.Kf)({id:e},["id"],{id:"Contact ID"}),await s.uH.delete(`/api/contacts/${e}`),this.clearCache()}catch(t){if(t instanceof o.uV)throw t;throw console.error(`Failed to delete contact ${e}:`,t),new o.uV({message:"Failed to delete contact",code:"CONTACT_DELETE_ERROR",userMessage:"Unable to delete the contact. Please try again.",originalError:t,retryable:!0})}}static async getContactsByStatus(e){return(await this.getAllContacts()).filter(t=>t.status===e)}static async searchContacts(e){if(!e.trim())return this.getAllContacts();let t=await this.getAllContacts(),a=e.toLowerCase().trim();return t.filter(e=>e.name.toLowerCase().includes(a)||e.email.toLowerCase().includes(a))}static async getContactsStats(){try{let e=await s.uH.get("/api/contacts/stats");if(e.data)return e.data}catch(e){console.warn("Failed to fetch contact stats from backend, calculating locally:",e)}let e=await this.getAllContacts(),t={pending:0,slots_generated:0,email_sent:0,scheduled:0,completed:0,total:e.length};return e.forEach(e=>{t[e.status]++}),t}static async createMultipleContacts(e){try{if(!Array.isArray(e)||0===e.length)throw new o.uV({message:"No contacts provided",code:"VALIDATION_ERROR",userMessage:"Please provide at least one contact to create.",retryable:!1});e.forEach((e,t)=>{if((0,o.Kf)(e,["name","email","timezone"],{name:`Contact ${t+1} Name`,email:`Contact ${t+1} Email`,timezone:`Contact ${t+1} Timezone`}),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new o.uV({message:`Invalid email format for contact ${t+1}`,code:"VALIDATION_ERROR",userMessage:`Please enter a valid email address for contact ${t+1}.`,retryable:!1})});let t=[],a=[];for(let r=0;r<e.length;r++)try{let a=await this.createContact(e[r]);t.push(a)}catch(t){let e=t instanceof o.uV?t.userMessage:"Unknown error";a.push({index:r,error:e})}if(a.length>0){let e=a.map(e=>`Contact ${e.index+1}: ${e.error}`).join("; ");throw new o.uV({message:`Failed to create some contacts: ${e}`,code:"BULK_CREATE_PARTIAL_ERROR",userMessage:`Some contacts could not be created: ${e}`,retryable:!0})}return t}catch(e){if(e instanceof o.uV)throw e;throw console.error("Failed to create multiple contacts:",e),new o.uV({message:"Failed to create contacts",code:"BULK_CREATE_ERROR",userMessage:"Unable to create the contacts. Please try again.",originalError:e,retryable:!0})}}}class l{static async createSchedulingSession(e,t,a){try{let r=e.filter(e=>e.name.trim());if(0===r.length)throw new o.uV({message:"No valid contacts provided",code:"VALIDATION_ERROR",userMessage:"Please provide at least one contact with a name.",retryable:!1});let n=(await Promise.all(r.map(async e=>{let a={name:e.name.trim(),email:e.email?.trim()||"",timezone:e.timezone,meetingPreferences:{duration:t,timeOfDay:"any"}};try{return await i.createContact(a)}catch(t){return console.error(`❌ Failed to create contact ${e.name}:`,{originalContact:e,transformedData:a,error:t instanceof Error?t.message:t,stack:t instanceof Error?t.stack:void 0,errorType:t instanceof o.uV?"AppError":"Unknown",timestamp:new Date().toISOString()}),t instanceof o.uV&&console.error(`🔍 AppError details for ${e.name}:`,{code:t.code,userMessage:t.userMessage,retryable:t.retryable,originalError:t.originalError?.message,context:t.context}),t&&"object"==typeof t&&"response"in t&&console.error(`🌐 Network error details for ${e.name}:`,{status:t.response?.status,statusText:t.response?.statusText,data:t.response?.data,headers:t.response?.headers}),null}}))).filter(e=>null!==e);if(0===n.length){let t=r.length;throw console.error("All contact creation attempts failed:",{attempted:t,successful:0,originalContacts:e,validContacts:r}),new o.uV({message:`Failed to create any contacts (${t} attempts failed)`,code:"CONTACT_CREATION_ERROR",userMessage:"Unable to create contacts in the database. Check your network connection and try again.",retryable:!0})}let l={contactIds:n.map(e=>e._id),slotsPerContact:3,dateRange:a?.dateRange,consultantMode:a?.consultantMode||!0},c=await s.uH.post("/api/scheduling",l);if(!c.success||!c.data)throw new o.uV({message:"Backend scheduling algorithm failed",code:"SCHEDULING_ALGORITHM_ERROR",userMessage:"Unable to generate time slots. Please try again.",retryable:!0});let d=c.data;return{sessionId:d.batchId||Date.now().toString(),participants:d.results.map(e=>({id:e.contact?.id,name:e.contact?.name,timezone:e.contact?.timezone,email:e.contact?.email,timeSlots:(e.suggestedSlots||[]).map(e=>e.displayTimes?.contact||`${e.start} - ${e.end}`)})),metadata:{algorithm:d.algorithm||"advanced",totalContacts:d.statistics?.totalContacts||n.length,successfullyScheduled:d.statistics?.totalSlots||0}}}catch(e){if(e instanceof o.uV)throw e;throw console.error("Failed to create scheduling session:",e),new o.uV({message:"Failed to create scheduling session",code:"SCHEDULING_CREATE_ERROR",userMessage:"Unable to generate time slots. Please try again.",originalError:e,retryable:!0})}}static async getSchedulingSession(e){try{return(0,o.Kf)({sessionId:e},["sessionId"],{sessionId:"Session ID"}),(await s.uH.get(`/api/scheduling/${e}`)).data}catch(e){return console.error("Failed to get scheduling session:",e),null}}static saveSchedulingSession(e,t){}static loadSchedulingSession(e){try{return null}catch(e){return console.error("Failed to load scheduling session:",e),null}}static async confirmTimeSlots(e,t){try{if((0,o.Kf)({sessionId:e},["sessionId"],{sessionId:"Session ID"}),!Array.isArray(t)||0===t.length)throw new o.uV({message:"No selections provided",code:"VALIDATION_ERROR",userMessage:"Please select at least one time slot before confirming.",retryable:!1});return(await s.uH.post("/api/scheduling/confirm",{sessionId:e,selections:t,timestamp:new Date().toISOString()})).data}catch(e){if(e instanceof o.uV)throw e;throw console.error("Failed to confirm time slots:",e),new o.uV({message:"Failed to confirm time slots",code:"SCHEDULING_CONFIRM_ERROR",userMessage:"Unable to confirm meeting times. Please try again.",originalError:e,retryable:!0})}}static async getPendingEvents(){try{return(await s.uH.get("/api/scheduling/suggestions")).data||[]}catch(e){return console.error("Failed to get pending events:",e),[]}}static async clearPendingEvent(e){try{(0,o.Kf)({eventId:e},["eventId"],{eventId:"Event ID"}),await s.uH.delete(`/api/scheduling/suggestions/${e}`)}catch(e){if(e instanceof o.uV)throw e;throw console.error("Failed to clear pending event:",e),new o.uV({message:"Failed to clear pending event",code:"PENDING_EVENT_CLEAR_ERROR",userMessage:"Unable to clear event. Please try again.",originalError:e,retryable:!0})}}static formatTimeSlotForDisplay(e){try{let t=new Date(e.start),a=new Date(e.end),r=t.toLocaleDateString("en-US",{weekday:"short"}),n=t.toLocaleTimeString("en-US",{hour:"numeric",minute:t.getMinutes()?"2-digit":void 0,hour12:!0}),s=a.toLocaleTimeString("en-US",{hour:"numeric",minute:a.getMinutes()?"2-digit":void 0,hour12:!0});return`${r} ${n}-${s}`}catch(t){return console.error("Failed to format time slot:",t),`${e.start} - ${e.end}`}}static async checkBackendHealth(){try{let e=await s.uH.get("/api/health");return e.success&&!!e.data}catch(e){return console.error("Backend health check failed:",e),!1}}static generateMockSchedulingData(e){let t=Date.now().toString(),a=["Mon 9-10am","Wed 2-3pm","Fri 11-12pm"],r=e.filter(e=>e.name.trim()).map(e=>({id:e.id,name:e.name,timezone:e.timezone,email:e.email,timeSlots:[...a]}));return{sessionId:t,participants:r,metadata:{algorithm:"mock_fallback",totalContacts:r.length,successfullyScheduled:r.length}}}}var c=a(62185);class d{static async getPendingEvents(){try{return(await c.F.get("/pending-events")).data.data||[]}catch(e){return console.error("Failed to get pending events:",e),[]}}static async createPendingEvents(e){try{let t=await c.F.post("/pending-events/bulk",{events:e,timestamp:new Date().toISOString()});return{created:t.data.data.created||[],blocked:t.data.data.blocked||[]}}catch(e){throw console.error("Failed to create pending events:",e),Error("Unable to create pending events. Please try again.")}}static async clearPendingEvent(e){try{await c.F.delete(`/pending-events/${e}`)}catch(e){throw console.error("Failed to clear pending event:",e),Error("Unable to cancel pending event. Please try again.")}}static async markAsScheduled(e,t){try{await c.F.patch(`/pending-events/${e}/scheduled`,{calendarEventId:t,scheduledAt:new Date().toISOString()})}catch(e){throw console.error("Failed to mark event as scheduled:",e),Error("Unable to update event status. Please try again.")}}static async getBlockedTimeSlots(){try{return(await c.F.get("/pending-events/blocked-slots")).data.data.data||[]}catch(e){return console.error("Failed to get blocked time slots:",e),[]}}static async bulkClearPendingEvents(e){try{await c.F.post("/pending-events/bulk-clear",{eventIds:e,timestamp:new Date().toISOString()})}catch(e){throw console.error("Failed to bulk clear pending events:",e),Error("Unable to clear pending events. Please try again.")}}static async cleanupStaleEvents(e=7){try{let t=await c.F.post("/pending-events/cleanup",{olderThanDays:e,timestamp:new Date().toISOString()});return{cleaned:t.data.data.cleaned||0,remaining:t.data.data.remaining||0}}catch(e){throw console.error("Failed to cleanup stale events:",e),Error("Unable to cleanup old events. Please try again.")}}static async checkTimeSlotConflict(e,t,a){try{return(await c.F.post("/pending-events/check-conflict",{startTime:e,endTime:t,timezone:a})).data.data}catch(e){return console.error("Failed to check time slot conflict:",e),{hasConflict:!1}}}static async getPendingEventsStats(){try{return(await c.F.get("/pending-events/stats")).data.data}catch(e){return console.error("Failed to get pending events stats:",e),{total:0,byStatus:{pending:0,scheduled:0,cancelled:0},recentActivity:0}}}}let u=(0,n.createContext)(void 0),m=()=>{let e=(0,n.useContext)(u);if(void 0===e)throw Error("useScheduling must be used within a SchedulingProvider");return e},h=({children:e})=>{let[t,a]=(0,n.useState)(null),[s,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)(null),[m,h]=(0,n.useState)([]),g=async(e,t)=>{o(!0),c(null);try{let r;await l.checkBackendHealth()?r=await l.createSchedulingSession(e,t):(console.warn("Backend unavailable, using mock data"),r=l.generateMockSchedulingData(e));let n={...r,contacts:e,duration:t,selectedSlots:[],createdAt:new Date().toISOString()};return a(n),l.saveSchedulingSession(r.sessionId,n),r.sessionId}catch(t){let e=t instanceof Error?t.message:"Failed to create scheduling session";throw c(e),Error(e)}finally{o(!1)}},p=async e=>{o(!0),c(null);try{let t=l.loadSchedulingSession(e);if(t||(t=await l.getSchedulingSession(e)),!t)return c("Scheduling session not found"),null;{let e={sessionId:t.sessionId,contacts:[],duration:t.duration,participants:t.participants,createdAt:new Date().toISOString()};return a(e),e}}catch(e){return c(e instanceof Error?e.message:"Failed to load scheduling session"),null}finally{o(!1)}},f=(e,r)=>{if(t&&t.sessionId===e){let n={...t,...r};a(n),l.saveSchedulingSession(e,n)}},v=async e=>{if(!t||!t.selectedSlots)throw Error("No session or slots selected");o(!0),c(null);try{let a=t.selectedSlots.map(a=>{let r=t.participants?.find(e=>e.id===a.contactId);return{sessionId:e,contactName:r?.name||"Unknown Contact",contactEmail:r?.email,selectedSlot:a.selectedSlot,timezone:r?.timezone||"America/New_York",duration:t.duration}}),r=await d.createPendingEvents(a);f(e,{selectedSlots:[],metadata:{algorithm:t.metadata?.algorithm||"confirmed",totalContacts:t.metadata?.totalContacts||t.participants?.length||0,successfullyScheduled:t.metadata?.successfullyScheduled||t.participants?.length||0,confirmedEvents:r.created,blockedSlots:r.blocked}}),await b()}catch(t){let e=t instanceof Error?t.message:"Failed to confirm scheduling";throw c(e),Error(e)}finally{o(!1)}},b=async()=>{try{let e=await d.getPendingEvents();h(e)}catch(e){console.error("Failed to load pending events:",e)}},y=async e=>{o(!0),c(null);try{await d.clearPendingEvent(e),h(t=>t.filter(t=>t.id!==e))}catch(t){let e=t instanceof Error?t.message:"Failed to clear pending event";throw c(e),Error(e)}finally{o(!1)}};return(0,n.useEffect)(()=>{},[]),(0,r.jsx)(u.Provider,{value:{currentSession:t,isLoading:s,error:i,createSession:g,loadSession:p,updateSession:f,clearSession:()=>{a(null),c(null)},selectSlot:(e,a)=>{if(!t)return;let r=[...(t.selectedSlots||[]).filter(t=>t.contactId!==e),{contactId:e,selectedSlot:a}];f(t.sessionId,{selectedSlots:r})},removeSlotSelection:e=>{if(!t)return;let a=(t.selectedSlots||[]).filter(t=>t.contactId!==e);f(t.sessionId,{selectedSlots:a})},getSelectedSlots:()=>t?.selectedSlots?.map(e=>({contactId:e.contactId,selectedSlot:e.selectedSlot}))||[],confirmScheduling:v,pendingEvents:m,loadPendingEvents:b,clearPendingEvent:y,setError:e=>{c(e)},clearError:()=>{c(null)}},children:e})},g=()=>{let{currentSession:e}=m();return{hasValidSession:!!e,hasParticipants:!!e?.participants?.length,hasSelections:!!e?.selectedSlots?.length,isReadyForConfirmation:!!(e?.participants?.length&&e?.selectedSlots?.length&&e.selectedSlots.length===e.participants.length)}}},21767:(e,t,a)=>{"use strict";a.d(t,{ModalProvider:()=>i,h:()=>o});var r=a(60687),n=a(43210);let s=(0,n.createContext)(void 0),o=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useModal must be used within a ModalProvider");return e},i=({children:e})=>{let[t,a]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1);return(0,r.jsx)(s.Provider,{value:{isLoginModalOpen:t,openLoginModal:()=>{a(!0)},closeLoginModal:()=>{a(!1)},isNewEventModalOpen:o,openNewEventModal:()=>{i(!0)},closeNewEventModal:()=>{i(!1)}},children:e})}},24435:(e,t,a)=>{"use strict";a.d(t,{uH:()=>o});var r=a(62185),n=a(30305);class s{async request(e,t={},a){let s=async()=>{try{let a=this.mapRoute(e),n={...t,url:a,timeout:t.timeout||3e4};n.data&&(n.data=this.transformRequestData(e,n.data));let s=await r.F.request(n);return{data:this.transformResponseData(e,s.data),success:!0,message:s.data?.message}}catch(r){let a=this.handleError(r,e);throw(0,n.vV)(a,{frontendRoute:e,backendRoute:this.mapRoute(e),requestData:t.data}),a}};return a||this.shouldRetry(e,t.method)?(0,n.bD)(s,{maxAttempts:3,retryCondition:e=>e instanceof n.uV&&e.retryable,...a}):s()}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,a){return this.request(e,{...a,method:"POST",data:t})}async put(e,t,a){return this.request(e,{...a,method:"PUT",data:t})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}mapRoute(e){let t=e.split("?")[0],a=e.split("?")[1],r=this.routeMap[t]||e;if(!this.routeMap[t]){let e=t.split("/");for(let[t,a]of Object.entries(this.routeMap)){let n=t.split("/");if(e.length===n.length){let t=!0;for(let a=0;a<e.length;a++)if(n[a]!==e[a]&&!n[a].startsWith(":")){t=!1;break}if(t){let t=a.split("/");for(let a=0;a<e.length;a++)n[a].startsWith(":")&&(t[a]=e[a]);r=t.join("/");break}}}}return a&&(r+="?"+a),r}transformRequestData(e,t){return e.includes("/api/scheduling")?this.transformSchedulingRequest(t):e.includes("/api/events")?this.transformEventRequest(t):e.includes("/api/contacts")?this.transformContactRequest(t):t}transformResponseData(e,t){return e.includes("/api/events")?this.transformEventResponse(t):e.includes("/api/scheduling")?this.transformSchedulingResponse(t):e.includes("/api/contacts")?this.transformContactResponse(t):e.includes("/api/settings")?this.transformSettingsResponse(t):t}transformSchedulingRequest(e){let t={contactIds:e.contactIds||e.contacts?.map(e=>e.id)||[],duration:e.duration||30,slotsPerContact:e.slotsPerContact||3,dateRange:e.dateRange||{start:new Date().toISOString(),end:new Date(Date.now()+12096e5).toISOString()},consultantMode:!1!==e.consultantMode};return Array.isArray(t.contactIds)&&(t.contactIds=t.contactIds.map(e=>String(e))),t}transformSchedulingResponse(e){return e.suggestions?{sessionId:e.sessionId||Date.now().toString(),participants:e.suggestions.map(e=>({id:e.contactId||e.contact?.id,name:e.contactName||e.contact?.name,email:e.contactEmail||e.contact?.email,timezone:e.timezone||e.contact?.timezone,timeSlots:e.slots?.map(e=>e.displayTime||e.time)||[]}))}:e}transformEventRequest(e){return{title:e.title||"Coffee Chat",participants:e.participants||[],duration:e.duration||30,scheduledTime:e.date||e.scheduledTime,type:e.type||"coffee_chat"}}transformEventResponse(e){return Array.isArray(e)?e.map(e=>this.transformSingleEvent(e)):e.events?e.events.map(e=>this.transformSingleEvent(e)):e}transformSingleEvent(e){return{id:e._id||e.id,title:e.title||"Coffee Chat",participants:e.participants||e.contacts?.map(e=>e.name)||[],date:new Date(e.scheduledTime||e.date),status:this.mapEventStatus(e.status),duration:e.duration||30,finalTimeSlot:e.selectedSlot?.displayTime||e.finalTimeSlot,type:e.type||"coffee_chat",createdAt:e.createdAt?new Date(e.createdAt):void 0,updatedAt:e.updatedAt?new Date(e.updatedAt):void 0}}transformContactRequest(e){return{name:e.name,email:e.email,timezone:e.timezone,meetingPreferences:e.meetingPreferences||{duration:60,timeOfDay:e.timeOfDay||"any"}}}transformContactResponse(e){return Array.isArray(e)?e.map(e=>this.transformSingleContact(e)):e.contacts?e.contacts.map(e=>this.transformSingleContact(e)):this.transformSingleContact(e)}transformSingleContact(e){return{_id:e._id||e.id,userId:e.userId,name:e.name,email:e.email,timezone:e.timezone,status:e.status||"pending",meetingPreferences:e.preferences||e.meetingPreferences||{duration:30},createdAt:e.createdAt,updatedAt:e.updatedAt}}transformSettingsResponse(e){return{user:e.user||e,preferences:e.preferences||{},settings:e.settings||{}}}mapEventStatus(e){return({completed:"completed",cancelled:"cancelled",scheduled:"scheduled",confirmed:"scheduled",pending:"scheduled"})[e]||"scheduled"}shouldRetry(e,t="GET"){return!!("GET"===t.toUpperCase()||e.includes("/api/scheduling")||e.includes("/api/health"))}handleError(e,t){return(0,n._R)(e,{operation:`API Request: ${t||"unknown"}`,component:"APIAdapter"})}constructor(){this.routeMap={"/api/auth/google":"/api/auth/google","/api/auth/status":"/api/auth/status","/api/auth/logout":"/api/auth/logout","/api/contacts":"/api/contacts","/api/events":"/api/calendar/events","/api/events/past":"/api/calendar/events?filter=past","/api/events/upcoming":"/api/calendar/events?filter=upcoming","/api/scheduling":"/api/scheduling","/api/scheduling/generate":"/api/scheduling","/api/scheduling/suggestions":"/api/scheduling/suggestions","/api/scheduling/clear":"/api/scheduling/suggestions","/api/scheduling/confirm":"/api/scheduling/confirm","/api/scheduling/session":"/api/scheduling","/api/pending-events":"/api/pending-events","/api/pending-events/bulk":"/api/pending-events/bulk","/api/pending-events/bulk-clear":"/api/pending-events/bulk-clear","/api/pending-events/blocked-slots":"/api/pending-events/blocked-slots","/api/pending-events/cleanup":"/api/pending-events/cleanup","/api/pending-events/check-conflict":"/api/pending-events/check-conflict","/api/pending-events/stats":"/api/pending-events/stats","/api/settings":"/api/user/preferences","/api/settings/profile":"/api/user/profile","/api/settings/export":"/api/user/export","/api/health":"/api/health"}}}let o=new s},26676:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,16444,23)),Promise.resolve().then(a.t.bind(a,16042,23)),Promise.resolve().then(a.t.bind(a,88170,23)),Promise.resolve().then(a.t.bind(a,49477,23)),Promise.resolve().then(a.t.bind(a,29345,23)),Promise.resolve().then(a.t.bind(a,12089,23)),Promise.resolve().then(a.t.bind(a,46577,23)),Promise.resolve().then(a.t.bind(a,31307,23))},28637:(e,t,a)=>{"use strict";a.d(t,{ErrorBoundary:()=>o});var r=a(60687),n=a(43210),s=a(29523);class o extends n.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleReload=()=>{},this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),console.error("Production error:",{error:e.message,stack:e.stack,componentStack:t.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:(0,r.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 text-center",children:[(0,r.jsx)("div",{className:"text-red-500 mb-4",children:(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.732 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,r.jsx)("h2",{className:"text-xl font-display font-bold text-neutral-900 mb-2",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-neutral-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),!1,(0,r.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,r.jsx)(s.$,{variant:"outline",onClick:this.handleReset,children:"Try Again"}),(0,r.jsx)(s.$,{onClick:this.handleReload,children:"Reload Page"})]})]})})}):this.props.children}}},29523:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var r=a(60687),n=a(81391),s=a(4780);let o=(0,a(43210).forwardRef)(({className:e,variant:t="primary",size:a="md",asChild:o=!1,...i},l)=>{let c=o?n.DX:"button";return(0,r.jsx)(c,{className:(0,s.cn)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none cursor-pointer",{"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500":"primary"===t,"bg-secondary-200 text-secondary-900 hover:bg-secondary-300 focus:ring-secondary-500":"secondary"===t,"border border-neutral-300 bg-white text-neutral-700 hover:bg-neutral-50 focus:ring-primary-500":"outline"===t,"text-neutral-700 hover:bg-neutral-100 focus:ring-neutral-500":"ghost"===t},{"px-3 py-2 text-sm":"sm"===a,"px-4 py-2 text-sm":"md"===a,"px-6 py-3 text-base":"lg"===a},e),ref:l,...i})});o.displayName="Button"},30305:(e,t,a)=>{"use strict";a.d(t,{Kf:()=>i,_R:()=>n,bD:()=>s,uV:()=>r,vV:()=>o});class r extends Error{constructor({message:e,code:t="UNKNOWN_ERROR",userMessage:a,context:r,originalError:n,retryable:s=!1}){super(e),this.name="AppError",this.code=t,this.userMessage=a||this.getDefaultUserMessage(t),this.context=r,this.originalError=n,this.retryable=s}getDefaultUserMessage(e){let t={NETWORK_ERROR:"Network connection failed. Please check your internet connection.",TIMEOUT_ERROR:"Request timed out. Please try again.",AUTH_ERROR:"Authentication failed. Please log in again.",PERMISSION_ERROR:"You don't have permission to perform this action.",VALIDATION_ERROR:"Please check your input and try again.",CONFLICT_ERROR:"The requested action conflicts with existing data.",NOT_FOUND_ERROR:"The requested resource was not found.",RATE_LIMIT_ERROR:"Too many requests. Please wait before trying again.",SERVER_ERROR:"Server error. Please try again later.",UNKNOWN_ERROR:"An unexpected error occurred. Please try again."};return t[e]||t.UNKNOWN_ERROR}}function n(e,t){let a=new Date().toISOString(),n={...t,timestamp:a};if(!e.response&&("ERR_NETWORK"===e.code||e.message?.includes("fetch")))return new r({message:e.message,code:"NETWORK_ERROR",context:n,originalError:e,retryable:!0});if("ECONNABORTED"===e.code||e.message?.includes("timeout"))return new r({message:e.message,code:"TIMEOUT_ERROR",context:n,originalError:e,retryable:!0});if(e.response?.status){let t=e.response.status,a=e.response.data;switch(t){case 400:return new r({message:a?.message||"Bad request",code:"VALIDATION_ERROR",userMessage:a?.userMessage||"Please check your input and try again.",context:n,originalError:e,retryable:!1});case 401:return new r({message:"Unauthorized",code:"AUTH_ERROR",context:n,originalError:e,retryable:!1});case 403:return new r({message:"Forbidden",code:"PERMISSION_ERROR",context:n,originalError:e,retryable:!1});case 404:return new r({message:"Not found",code:"NOT_FOUND_ERROR",userMessage:a?.userMessage||"The requested item was not found.",context:n,originalError:e,retryable:!1});case 409:return new r({message:"Conflict",code:"CONFLICT_ERROR",userMessage:a?.userMessage||"This action conflicts with existing data.",context:n,originalError:e,retryable:!1});case 429:return new r({message:"Rate limit exceeded",code:"RATE_LIMIT_ERROR",context:n,originalError:e,retryable:!0});case 500:case 502:case 503:case 504:return new r({message:"Server error",code:"SERVER_ERROR",userMessage:a?.userMessage||"Server error. Our team has been notified.",context:n,originalError:e,retryable:!0})}}return new r({message:e.message||"Unknown error",code:"UNKNOWN_ERROR",context:n,originalError:e,retryable:!1})}async function s(e,t={}){let a,{maxAttempts:n=3,baseDelay:o=1e3,maxDelay:i=1e4,exponentialBackoff:l=!0,retryCondition:c=e=>e instanceof r&&e.retryable}=t;for(let t=1;t<=n;t++)try{return await e()}catch(r){if(a=r,t===n||!c(a))throw a;let e=l?Math.min(o*Math.pow(2,t-1),i):o;e+=Math.random()*e*.1,console.warn(`Retrying operation (attempt ${t}/${n}) after ${e}ms:`,a.message),await new Promise(t=>setTimeout(t,e))}throw a}function o(e,t){console.error("Application Error:",{error:{name:e.name,message:e.message,code:e.code,userMessage:e.userMessage,retryable:e.retryable,stack:e.stack},context:e.context,originalError:e.originalError?{name:e.originalError.name,message:e.originalError.message,stack:e.originalError.stack}:void 0,additionalContext:t,timestamp:new Date().toISOString(),url:void 0,userAgent:void 0})}function i(e,t,a){let n=[];for(let r of t)if(!e[r]||"string"==typeof e[r]&&!e[r].trim()){let e=a?.[r]||String(r);n.push(e)}if(n.length>0)throw new r({message:`Missing required fields: ${n.join(", ")}`,code:"VALIDATION_ERROR",userMessage:`Please provide: ${n.join(", ")}`,retryable:!1})}},33404:(e,t,a)=>{"use strict";a.d(t,{B:()=>s});var r=a(60687),n=a(43210);let s=({show:e,onHide:t,title:a,message:s,duration:o=3e3,type:i="warning"})=>{let[l,c]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{if(e){c(!0);let e=setTimeout(()=>{c(!1),setTimeout(t,150)},o);return()=>clearTimeout(e)}c(!1)},[e,o,t]),!e)return null;let d={warning:{bg:"bg-warning-50 border-warning-200",text:"text-warning-800",icon:"text-warning-500",iconPath:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.268 16.5c-.77.833.192 2.5 1.732 2.5z"},error:{bg:"bg-error-50 border-error-200",text:"text-error-800",icon:"text-error-500",iconPath:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},success:{bg:"bg-success-50 border-success-200",text:"text-success-800",icon:"text-success-500",iconPath:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},info:{bg:"bg-primary-50 border-primary-200",text:"text-primary-800",icon:"text-primary-500",iconPath:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}}[i];return(0,r.jsx)("div",{className:"fixed top-4 right-4 z-[70] max-w-sm",children:(0,r.jsx)("div",{className:`
          p-4 border rounded-lg shadow-lg
          transform transition-all duration-200 ease-out
          ${l?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          ${d.bg} ${d.text}
        `,children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:`flex-shrink-0 mt-0.5 ${d.icon}`,children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:d.iconPath})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"text-sm font-medium font-display",children:a}),s&&(0,r.jsx)("p",{className:"mt-1 text-sm opacity-90 font-body",children:s})]})]})})})}},36916:(e,t,a)=>{"use strict";a.d(t,{NewEventModal:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call NewEventModal() from the server but NewEventModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/components/scheduling/new-event-modal.tsx","NewEventModal")},40958:(e,t,a)=>{"use strict";a.d(t,{LoginModal:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call LoginModal() from the server but LoginModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/components/auth/login-modal.tsx","LoginModal")},41313:(e,t,a)=>{"use strict";a.d(t,{ModalProvider:()=>n});var r=a(12907);(0,r.registerClientReference)(function(){throw Error("Attempted to call useModal() from the server but useModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/contexts/modal-context.tsx","useModal");let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call ModalProvider() from the server but ModalProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/contexts/modal-context.tsx","ModalProvider")},52739:(e,t,a)=>{"use strict";a.d(t,{ErrorBoundary:()=>n});var r=a(12907);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call ErrorBoundary() from the server but ErrorBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/components/error-boundary.tsx","ErrorBoundary");(0,r.registerClientReference)(function(){throw Error("Attempted to call ComponentErrorBoundary() from the server but ComponentErrorBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/components/error-boundary.tsx","ComponentErrorBoundary")},56891:(e,t,a)=>{"use strict";a.d(t,{Eg:()=>l,jI:()=>i,GI:()=>s,LP:()=>c,U$:()=>o,Rg:()=>n,xJ:()=>r});let r=[{value:"America/New_York",label:"Eastern Time (EST/EDT)",region:"us"},{value:"America/Chicago",label:"Central Time (CST/CDT)",region:"us"},{value:"America/Denver",label:"Mountain Time (MST/MDT)",region:"us"},{value:"America/Los_Angeles",label:"Pacific Time (PST/PDT)",region:"us"},{value:"America/Anchorage",label:"Alaska Time (AKST/AKDT)",region:"us"},{value:"Pacific/Honolulu",label:"Hawaii Time (HST)",region:"us"},{value:"Europe/London",label:"London (GMT/BST)",region:"europe"},{value:"Europe/Paris",label:"Paris (CET/CEST)",region:"europe"},{value:"Europe/Berlin",label:"Berlin (CET/CEST)",region:"europe"},{value:"Europe/Rome",label:"Rome (CET/CEST)",region:"europe"},{value:"Europe/Madrid",label:"Madrid (CET/CEST)",region:"europe"},{value:"Asia/Tokyo",label:"Tokyo (JST)",region:"asia"},{value:"Asia/Shanghai",label:"Shanghai (CST)",region:"asia"},{value:"Asia/Seoul",label:"Seoul (KST)",region:"asia"},{value:"Asia/Hong_Kong",label:"Hong Kong (HKT)",region:"asia"},{value:"Asia/Singapore",label:"Singapore (SGT)",region:"asia"},{value:"Asia/Mumbai",label:"Mumbai (IST)",region:"asia"},{value:"Asia/Dubai",label:"Dubai (GST)",region:"asia"},{value:"Australia/Sydney",label:"Sydney (AEDT/AEST)",region:"oceania"},{value:"Australia/Melbourne",label:"Melbourne (AEDT/AEST)",region:"oceania"},{value:"Pacific/Auckland",label:"Auckland (NZDT/NZST)",region:"oceania"},{value:"America/Toronto",label:"Toronto (EST/EDT)",region:"americas"},{value:"America/Vancouver",label:"Vancouver (PST/PDT)",region:"americas"},{value:"America/Sao_Paulo",label:"S\xe3o Paulo (BRT)",region:"americas"},{value:"America/Mexico_City",label:"Mexico City (CST/CDT)",region:"americas"}],n=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"Europe/London",label:"GMT (London)"},{value:"Europe/Paris",label:"CET (Paris)"},{value:"Asia/Tokyo",label:"JST (Tokyo)"},{value:"Asia/Shanghai",label:"CST (Shanghai)"},{value:"Australia/Sydney",label:"AEST (Sydney)"}],s="America/New_York",o=[{value:15,label:"15 minutes",category:"quick"},{value:20,label:"20 minutes",category:"quick"},{value:25,label:"25 minutes",category:"quick"},{value:30,label:"30 minutes",category:"standard"},{value:45,label:"45 minutes",category:"standard"},{value:60,label:"1 hour",category:"standard"},{value:90,label:"1.5 hours",category:"extended"},{value:120,label:"2 hours",category:"extended"}],i=30,l={APP_NAME:"Coffee Scheduler",APP_TAGLINE:"Spend time connecting, not scheduling",COMPANY_NAME:"Coffee Scheduler Inc.",DEFAULT_EVENT_TITLE:"Coffee Chat",DEFAULT_CONTACT_NAME:"Unknown Contact",DASHBOARD_SUBTITLE:"Dashboard",MENU_TITLE:"Menu",CTA_PRIMARY:"Start Connecting",CTA_NEW_EVENT:"✨ New Event",CTA_VIEW_DETAILS:"\uD83D\uDCCB View Details",CTA_SCHEDULE_AGAIN:"\uD83D\uDD04 Schedule Again",CTA_EDIT_MEETING:"✏️ Edit Meeting",CTA_CANCEL_MEETING:"❌ Cancel Meeting",SUCCESS_SAVE:"Settings saved successfully!",ERROR_VALIDATION:"Please add at least one contact to continue with scheduling.",LOADING_TEXT:"Loading...",NO_EVENTS_UPCOMING:"Your scheduled meetings will appear here",NO_EVENTS_PAST:"Your completed scheduling sessions will appear here"},c={TIMEZONE:"America/New_York",DURATION:30,WORKING_HOURS:{START:"09:00",END:"17:00"},REMINDER_TIME:15,SYNC_FREQUENCY:"hourly",DATA_RETENTION:365}},61135:()=>{},62185:(e,t,a)=>{"use strict";a.d(t,{F:()=>s});var r=a(51060);let n=a(5475).$.apiUrl,s=r.A.create({baseURL:n,withCredentials:!0,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>(e.response?.status,Promise.reject(e)))},65781:(e,t,a)=>{Promise.resolve().then(a.bind(a,40958)),Promise.resolve().then(a.bind(a,52739)),Promise.resolve().then(a.bind(a,36916)),Promise.resolve().then(a.bind(a,71858)),Promise.resolve().then(a.bind(a,41313)),Promise.resolve().then(a.bind(a,11330))},69431:(e,t,a)=>{"use strict";a.d(t,{NewEventModal:()=>m});var r=a(60687),n=a(21767),s=a(13278),o=a(43210),i=a(29523),l=a(89667),c=a(33404),d=a(16189),u=a(56891);let m=()=>{let{isNewEventModalOpen:e,closeNewEventModal:t}=(0,n.h)(),{createSession:a,isLoading:m,error:h,clearError:g}=(0,s.s)(),[p,f]=(0,o.useState)([{id:"1",name:"",timezone:u.GI,email:""}]),[v,b]=(0,o.useState)(u.jI),[y,E]=(0,o.useState)(!1),[x,w]=(0,o.useState)(!1),C=(0,d.useRouter)(),S=(0,o.useRef)(null);!function({isOpen:e,onClose:t,preventScroll:a=!0,enableEscapeKey:r=!0}){}({isOpen:e,onClose:t});let R=e=>{p.length>1&&f(p.filter(t=>t.id!==e))},T=(e,t)=>{f(p.map(a=>a.id===e?{...a,name:t}:a))},A=(e,t)=>{f(p.map(a=>a.id===e?{...a,timezone:t}:a))},N=(e,t)=>{f(p.map(a=>a.id===e?{...a,email:t}:a))},P=async e=>{e.preventDefault(),g();let r=p.filter(e=>e.name.trim());if(0===r.length)return void E(!0);w(!0);try{let e=await a(r,v);t(),C.push(`/dashboard/scheduling/${e}`),f([{id:"1",name:"",timezone:u.GI,email:""}]),b(u.jI)}catch(e){console.error("Failed to create scheduling session:",e),E(!0)}finally{w(!1)}};return e?(0,r.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center",style:{zIndex:"var(--z-modal)"},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black backdrop-blur-sm",style:{opacity:"var(--modal-backdrop-opacity)",backdropFilter:"blur(var(--modal-backdrop-blur))"},onClick:t}),(0,r.jsxs)("div",{className:"relative bg-white border w-full mx-4",style:{maxWidth:"48rem",padding:"var(--modal-padding)",borderRadius:"var(--modal-radius)",boxShadow:"var(--modal-shadow)",border:"var(--modal-border)"},children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-3 right-3 p-1.5 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-full transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-neutral-300 focus:ring-offset-1","aria-label":"Close modal",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("h2",{className:"text-2xl font-display font-bold text-neutral-900 mb-2",children:"Schedule Chats"})}),(0,r.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Contacts"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-neutral-500",children:[(0,r.jsx)("div",{className:"col-span-4",children:"Name"}),(0,r.jsx)("div",{className:"col-span-3",children:"Timezone"}),(0,r.jsx)("div",{className:"col-span-4",children:"Email (optional)"}),(0,r.jsx)("div",{className:"col-span-1"})]}),(0,r.jsx)("div",{className:`space-y-2 transition-all duration-200 ${p.length>4?"max-h-48 overflow-y-auto border border-neutral-200 rounded-md p-3 bg-neutral-50/30 scroll-smooth":""}`,ref:S,style:p.length>4?{scrollBehavior:"smooth"}:{},children:p.map((e,t)=>(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center",children:[(0,r.jsx)("div",{className:"col-span-4",children:(0,r.jsx)(l.p,{value:e.name,onChange:t=>T(e.id,t.target.value),placeholder:`Contact ${t+1}`,className:"text-sm h-9"})}),(0,r.jsx)("div",{className:"col-span-3",children:(0,r.jsx)("select",{value:e.timezone,onChange:t=>A(e.id,t.target.value),className:"w-full h-9 px-3 py-2 border border-neutral-300 rounded-md text-sm font-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:u.Rg.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})}),(0,r.jsx)("div",{className:"col-span-4",children:(0,r.jsx)(l.p,{type:"email",value:e.email||"",onChange:t=>N(e.id,t.target.value),placeholder:"email@example.com",className:"text-sm h-9"})}),(0,r.jsx)("div",{className:"col-span-1",children:p.length>1&&(0,r.jsx)("button",{type:"button",onClick:()=>R(e.id),className:"flex items-center justify-center w-9 h-9 text-neutral-400 hover:text-red-500 hover:bg-red-50 rounded-md transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-red-200 focus:ring-offset-1","aria-label":`Remove contact ${t+1}`,children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})})]},e.id))}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{f([...p,{id:Date.now().toString(),name:"",timezone:u.GI,email:""}]),setTimeout(()=>{S.current&&p.length>=4&&(S.current.scrollTop=S.current.scrollHeight)},100)},className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"+ Add Contact"}),p.length>4&&(0,r.jsxs)("span",{className:"text-xs text-neutral-500",children:[p.length," contacts • Scroll to view all"]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Meeting Duration (minutes)"}),(0,r.jsxs)("select",{value:v,onChange:e=>b(Number(e.target.value)),className:"w-full px-3 py-2 border border-neutral-300 rounded-md font-body focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[(0,r.jsx)("option",{value:15,children:"15 minutes"}),(0,r.jsx)("option",{value:30,children:"30 minutes"}),(0,r.jsx)("option",{value:45,children:"45 minutes"}),(0,r.jsx)("option",{value:60,children:"1 hour"}),(0,r.jsx)("option",{value:90,children:"1.5 hours"}),(0,r.jsx)("option",{value:120,children:"2 hours"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,r.jsx)(i.$,{type:"button",variant:"outline",onClick:t,className:"flex-1",disabled:x||m,children:"Cancel"}),(0,r.jsx)(i.$,{type:"submit",className:"flex-1",disabled:x||m,children:x||m?"Creating...":"Create Schedule"})]})]})]}),(0,r.jsx)(c.B,{show:y||!!h,onHide:()=>{E(!1),g()},title:h?"Scheduling Error":"Missing contacts",message:h||u.Eg.ERROR_VALIDATION,type:h?"error":"warning",duration:3e3})]}):null}},71858:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>n});var r=a(12907);(0,r.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/contexts/auth-context.tsx","useAuth");let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ashtonmeyer-bibbins/Desktop/projects/coffee-scheduler/frontend/src/contexts/auth-context.tsx","AuthProvider")},79349:(e,t,a)=>{Promise.resolve().then(a.bind(a,10756)),Promise.resolve().then(a.bind(a,28637)),Promise.resolve().then(a.bind(a,69431)),Promise.resolve().then(a.bind(a,7112)),Promise.resolve().then(a.bind(a,21767)),Promise.resolve().then(a.bind(a,13278))},86356:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,86346,23)),Promise.resolve().then(a.t.bind(a,27924,23)),Promise.resolve().then(a.t.bind(a,35656,23)),Promise.resolve().then(a.t.bind(a,40099,23)),Promise.resolve().then(a.t.bind(a,38243,23)),Promise.resolve().then(a.t.bind(a,28827,23)),Promise.resolve().then(a.t.bind(a,62763,23)),Promise.resolve().then(a.t.bind(a,97173,23))},89667:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var r=a(60687),n=a(4780);let s=(0,a(43210).forwardRef)(({className:e,type:t,...a},s)=>(0,r.jsx)("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-neutral-300 bg-white px-3 py-2 text-sm font-body text-neutral-900 ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-neutral-500 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",e),ref:s,...a}));s.displayName="Input"},94431:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p,metadata:()=>g});var r=a(37413),n=a(2202),s=a.n(n),o=a(64988),i=a.n(o);a(61135);var l=a(71858),c=a(41313),d=a(11330),u=a(52739),m=a(40958),h=a(36916);let g={title:"Scheduler",description:"Smart scheduling that optimizes meeting times across time zones"};function p({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${s().variable} ${i().variable} antialiased`,children:(0,r.jsx)(u.ErrorBoundary,{children:(0,r.jsx)(l.AuthProvider,{children:(0,r.jsx)(c.ModalProvider,{children:(0,r.jsxs)(d.SchedulingProvider,{children:[(0,r.jsx)("div",{className:"min-h-screen bg-white",children:e}),(0,r.jsx)(m.LoginModal,{}),(0,r.jsx)(h.NewEventModal,{})]})})})})})})}}};